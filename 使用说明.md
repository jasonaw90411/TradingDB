# 涨停股池数据服务器使用说明

## 功能介绍
这是一个本地Web服务器，提供实时更新的涨停股池数据和滚动新闻功能。

## 主要特性
- 📰 实时滚动新闻（每5分钟自动更新）
- 📈 涨停股池数据展示
- 💰 资金流向分析
- 📊 板块信息统计
- 👤 游资龙虎榜追踪
- 🔥 市场热点股票排行（每10分钟自动更新）

## 快速启动

### 方法一：使用启动脚本（推荐）
双击 `启动服务器.bat` 文件即可启动服务器。

### 方法二：手动启动
1. 打开命令行（PowerShell或CMD）
2. 进入项目目录：`cd d:\量化\trading`
3. 运行服务器：`python server.py`

## 访问地址
启动成功后，在浏览器中访问：**http://localhost:5000**

## 工作原理

### 服务器端（server.py）
- 使用Flask框架创建本地Web服务器
- 提供静态HTML页面访问
- 提供 `/api/news` API接口返回新闻数据
- 提供 `/api/hot-rank` API接口返回市场热点数据
- 后台线程每5分钟自动更新新闻缓存
- 后台线程每10分钟自动更新市场热点缓存

### 客户端（HTML + JavaScript）
- 页面加载后1秒自动获取最新新闻
- 页面加载后2秒自动获取最新市场热点数据
- 每5分钟自动调用API更新新闻内容
- 每10分钟自动调用API更新市场热点数据
- 每15分钟自动刷新整个页面更新所有数据

## 数据更新机制

1. **新闻更新**：每5分钟自动从API获取最新新闻（无需刷新页面）
2. **市场热点更新**：每10分钟自动从API获取最新市场热点数据（无需刷新页面）
3. **页面刷新**：每15分钟自动刷新整个页面更新所有数据
4. **手动刷新**：点击页面右上角的"刷新数据"按钮

## 注意事项

1. **首次启动**：需要先运行 `python lb.py` 生成初始的HTML报告文件
2. **依赖安装**：确保已安装Flask（运行脚本会自动安装）
3. **端口占用**：默认使用5000端口，如被占用请修改 `server.py` 中的端口号
4. **网络连接**：需要联网才能获取新闻数据

## 停止服务器
在命令行窗口中按 `Ctrl+C` 即可停止服务器。

## 故障排除

### 问题：访问页面显示404
**解决**：确保已经运行过 `python lb.py` 生成了 `limit_up_pool_report.html` 文件

### 问题：新闻不更新
**解决**：
1. 打开浏览器开发者工具（F12）查看Console是否有错误
2. 检查网络连接是否正常
3. 查看服务器端日志是否有错误信息

### 问题：端口被占用
**解决**：修改 `server.py` 最后一行的端口号，例如改为 `app.run(host='0.0.0.0', port=5001, debug=False)`
